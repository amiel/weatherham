(function(f){function G(h){if(f.facebox.settings.inited)return true;else f.facebox.settings.inited=true;f(document).trigger("init.facebox");r();var F=f.facebox.settings.imageTypes.join("|");f.facebox.settings.imageTypesRegexp=new RegExp(".("+F+")(\\?\\d+)?$","i");h&&f.extend(f.facebox.settings,h);f("body").append(f.facebox.settings.faceboxHtml);var M=[];f("#facebox").find(".b:first, .bl, .br, .tl, .tr").each(function(){M.push(new Image);M.slice(-1).src=f(this).css("background-image").replace(/url\((.+)\)/,
"$1")});f("#facebox .close").click(f.facebox.close)}function p(h){return f(h).data("title")?f(h).data("title"):h.title?h.title:h.alt}function s(){var h,F;if(self.pageYOffset){F=self.pageYOffset;h=self.pageXOffset}else if(document.documentElement&&document.documentElement.scrollTop){F=document.documentElement.scrollTop;h=document.documentElement.scrollLeft}else if(document.body){F=document.body.scrollTop;h=document.body.scrollLeft}return new Array(h,F)}function z(){var h;if(self.innerHeight)h=self.innerHeight;
else if(document.documentElement&&document.documentElement.clientHeight)h=document.documentElement.clientHeight;else if(document.body)h=document.body.clientHeight;return h}function r(){var h=f.facebox.settings;h.imageTypes=h.image_types||h.imageTypes;h.faceboxHtml=h.facebox_html||h.faceboxHtml}function J(h,F,M){if(h.match(/#/)){var R=window.location.href.split("#")[0];h=h.replace(R,"");f.facebox.reveal(f(h).children(),F,M);f(h).append('<div id="facebox_moved" />')}else h.match(f.facebox.settings.imageTypesRegexp)?
H(h,F,M):A(h,F,M)}function H(h,F,M){var R=new Image;R.onload=function(){f.facebox.reveal('<div class="facebox_image"><img src="'+R.src+'" /></div>',F,M)};R.src=h}function A(h,F,M){f.get(h,function(R){f.facebox.reveal(R,F,M)})}function u(){return f.facebox.settings.overlay==false||f.facebox.settings.opacity===null}function C(){if(!u()){f("#facebox_overlay").length==0&&f("body").append('<div id="facebox_overlay" class="facebox_hide"></div>');f("#facebox_overlay").hide().addClass("facebox_overlayBG").css("opacity",
f.facebox.settings.opacity).click(function(){f.facebox.close()}).fadeIn(200);return false}}function L(){if(!u()){f("#facebox_overlay").fadeOut(200,function(){f("#facebox_overlay").removeClass("facebox_overlayBG");f("#facebox_overlay").addClass("facebox_hide");f("#facebox_overlay").remove()});return false}}f.facebox=function(h,F,M){f.facebox.loading();if(h.ajax)A(h.ajax,F,M);else if(h.image)H(h.image,F,M);else if(h.div)J(h.div,F,M);else f.isFunction(h)?h.call(f):f.facebox.reveal(h,F,M)};f.extend(f.facebox,
{settings:{opacity:0.5,overlay:true,imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <table>           <tbody>             <tr>               <td class="tl"/><td class="b"/><td class="tr"/>             </tr>             <tr>               <td class="b"/>               <td class="body">                 <div class="title"> \t\t\t\t  <h2></h2>                   <a href="#" class="close">close</a>                 </div>                 <div class="content">                 </div>               </td>               <td class="b"/>             </tr>             <tr>               <td class="bl"/><td class="b"/><td class="br"/>             </tr>           </tbody>         </table>       </div>     </div>'},
loading:function(){G();if(f("#facebox .loading").length==1)return true;C();f("#facebox .content").empty();f("#facebox .body").children().hide().end().append('<div class="loading"></div>');f("#facebox").css({top:s()[1]+z()/10,left:f(window).width()/2-360}).show().css({left:f(window).width()/2-f("#facebox table").width()/2});f(document).bind("keydown.facebox",function(h){h.keyCode==27&&f.facebox.close();return true});f(document).trigger("loading.facebox")},reveal:function(h,F,M){f(document).trigger("beforeReveal.facebox");
M&&f("#facebox .content").addClass(M);F?f("#facebox .title h2").text(F):f("#facebox .title h2").empty();f("#facebox .content").append(h);f("#facebox .loading").remove();f("#facebox .body").children().fadeIn("normal");f("#facebox").css("left",f(window).width()/2-f("#facebox table").width()/2);f(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){result=f(document).triggerHandler("beforeClose.facebox");result!=false&&f(document).trigger("close.facebox");return false}});
f.fn.facebox=function(h){function F(){f.facebox.loading(true);var M=this.rel.match(/facebox\[?\.(\w+)\]?/);if(M)M=M[1];var R=p(this);J(this.href,R,M);return false}G(h);this.each(function(){this.title&&f(this).data("title",this.title)});return this.bind("click.facebox",F)};f(document).bind("close.facebox",function(){f(document).unbind("keydown.facebox");f("#facebox").fadeOut(function(){f(document).trigger("afterClose.facebox");f("#facebox_moved").length==0?f("#facebox .content").removeClass().addClass("content"):
f("#facebox_moved").after(f("#facebox .content").children()).remove();L();f("#facebox .loading").remove()})})})(jQuery);var Base={};Base.register_variable=function(f,G,p){if(p){if(typeof Base[p]==="undefined")Base[p]={};Base[p][f]=G}else Base[f]=G};Base.reg=Base.register_variable;$(window).ajaxComplete(function(f,G){if(f=G.getResponseHeader("X-JSON-FLASH")){f=window.eval("("+f+")");$.each(f,function(p,s){Base.flash(s,p)})}});
Base.console=function(f){Base.DEBUG&&window.console&&window.console[f]&&window.console[f].apply(null,Array.prototype.slice.apply(arguments,[1]))};(function(f){for(i in f)(function(G){Base[G]=function(){Base.DEBUG&&Base.console.apply(null,[G,"Base","["+(new Date).toLocaleTimeString()+"]"].concat(Array.prototype.slice.apply(arguments)))}})(f[i])})(["log","debug","info","warn","error"]);
(function(f){for(i in f)(function(G){Base.console[G]=function(){Base.DEBUG&&Base.console.apply(null,[G].concat(Array.prototype.slice.apply(arguments)))}})(f[i])})(["log","debug","info","warn","error","assert","dir","dirxml","trace","group","groupEnd","time","timeEnd","profile","profileEnd","count"]);$(window).bind("ajaxStart ajaxSend ajaxComplete ajaxSuccess",Base.debug);String.prototype.capitalize=function(){return this[0].toUpperCase()+this.substr(1,this.length-1)};
String.prototype.titleize=function(){res=[];var f=this.split(/_| /);$.each(f,function(G,p){res.push(p.capitalize())});return res.join(" ")};
var dateFormat=function(){var f=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,G=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,p=/[^-+\dA-Z]/g,s=function(z,r){z=String(z);for(r=r||2;z.length<r;)z="0"+z;return z};return function(z,r,J){var H=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(z)=="[object String]"&&!/\d/.test(z)){r=z;z=undefined}z=z?new Date(z):new Date;if(isNaN(z))throw SyntaxError("invalid date");
r=String(H.masks[r]||r||H.masks["default"]);if(r.slice(0,4)=="UTC:"){r=r.slice(4);J=true}var A=J?"getUTC":"get",u=z[A+"Date"](),C=z[A+"Day"](),L=z[A+"Month"](),h=z[A+"FullYear"](),F=z[A+"Hours"](),M=z[A+"Minutes"](),R=z[A+"Seconds"]();A=z[A+"Milliseconds"]();var W=J?0:z.getTimezoneOffset(),T={d:u,dd:s(u),ddd:H.i18n.dayNames[C],dddd:H.i18n.dayNames[C+7],m:L+1,mm:s(L+1),mmm:H.i18n.monthNames[L],mmmm:H.i18n.monthNames[L+12],yy:String(h).slice(2),yyyy:h,h:F%12||12,hh:s(F%12||12),H:F,HH:s(F),M:M,MM:s(M),
s:R,ss:s(R),l:s(A,3),L:s(A>99?Math.round(A/10):A),t:F<12?"a":"p",tt:F<12?"am":"pm",T:F<12?"A":"P",TT:F<12?"AM":"PM",Z:J?"UTC":(String(z).match(G)||[""]).pop().replace(p,""),o:(W>0?"-":"+")+s(Math.floor(Math.abs(W)/60)*100+Math.abs(W)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return r.replace(f,function(P){return P in T?T[P]:P.slice(1,P.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};
dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(f,G){return dateFormat(this,f,G)};
(function(){jQuery.color={};jQuery.color.make=function(G,p,s,z){var r={};r.r=G||0;r.g=p||0;r.b=s||0;r.a=z!=null?z:1;r.add=function(J,H){for(var A=0;A<J.length;++A)r[J.charAt(A)]+=H;return r.normalize()};r.scale=function(J,H){for(var A=0;A<J.length;++A)r[J.charAt(A)]*=H;return r.normalize()};r.toString=function(){return r.a>=1?"rgb("+[r.r,r.g,r.b].join(",")+")":"rgba("+[r.r,r.g,r.b,r.a].join(",")+")"};r.normalize=function(){function J(H,A,u){return A<H?H:A>u?u:A}r.r=J(0,parseInt(r.r),255);r.g=J(0,
parseInt(r.g),255);r.b=J(0,parseInt(r.b),255);r.a=J(0,r.a,1);return r};r.clone=function(){return jQuery.color.make(r.r,r.b,r.g,r.a)};return r.normalize()};jQuery.color.extract=function(G,p){var s;do{s=G.css(p).toLowerCase();if(s!=""&&s!="transparent")break;G=G.parent()}while(!jQuery.nodeName(G.get(0),"body"));if(s=="rgba(0, 0, 0, 0)")s="transparent";return jQuery.color.parse(s)};jQuery.color.parse=function(G){var p,s=jQuery.color.make;if(p=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(G))return s(parseInt(p[1],
10),parseInt(p[2],10),parseInt(p[3],10));if(p=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(G))return s(parseInt(p[1],10),parseInt(p[2],10),parseInt(p[3],10),parseFloat(p[4]));if(p=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(G))return s(parseFloat(p[1])*2.55,parseFloat(p[2])*2.55,parseFloat(p[3])*2.55);if(p=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(G))return s(parseFloat(p[1])*
2.55,parseFloat(p[2])*2.55,parseFloat(p[3])*2.55,parseFloat(p[4]));if(p=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(G))return s(parseInt(p[1],16),parseInt(p[2],16),parseInt(p[3],16));if(p=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(G))return s(parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16));G=jQuery.trim(G).toLowerCase();if(G=="transparent")return s(255,255,255,0);else{p=f[G];return s(p[0],p[1],p[2])}};var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,
220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],
lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})();
(function(f){function G(s,z,r,J){function H(a,d){d=[U].concat(d);for(var e=0;e<a.length;++e)a[e].apply(this,d)}function A(){for(var a=0;a<J.length;++a){var d=J[a];d.init(U);d.options&&f.extend(true,w,d.options)}}function u(a){f.extend(true,w,a);if(w.grid.borderColor==null)w.grid.borderColor=w.grid.color;if(w.xaxis.noTicks&&w.xaxis.ticks==null)w.xaxis.ticks=w.xaxis.noTicks;if(w.yaxis.noTicks&&w.yaxis.ticks==null)w.yaxis.ticks=w.yaxis.noTicks;if(w.grid.coloredAreas)w.grid.markings=w.grid.coloredAreas;
if(w.grid.coloredAreasColor)w.grid.markingsColor=w.grid.coloredAreasColor;w.lines&&f.extend(true,w.series.lines,w.lines);w.points&&f.extend(true,w.series.points,w.points);w.bars&&f.extend(true,w.series.bars,w.bars);if(w.shadowSize)w.series.shadowSize=w.shadowSize;for(var d in ca)if(w.hooks[d]&&w.hooks[d].length)ca[d]=ca[d].concat(w.hooks[d]);H(ca.processOptions,[w])}function C(a){O=L(a);F();M()}function L(a){for(var d=[],e=0;e<a.length;++e){var b=f.extend(true,{},w.series);if(a[e].data){b.data=a[e].data;
delete a[e].data;f.extend(true,b,a[e]);a[e].data=b.data}else b.data=a[e];d.push(b)}return d}function h(a,d){a=a[d];if(!a||a==1)return D[d];if(typeof a=="number")return D[d.charAt(0)+a+d.slice(1)];return a}function F(){var a,d=O.length,e=[],b=[];for(a=0;a<O.length;++a){var c=O[a].color;if(c!=null){--d;typeof c=="number"?b.push(c):e.push(f.color.parse(O[a].color))}}for(a=0;a<b.length;++a)d=Math.max(d,b[a]+1);e=[];for(a=b=0;e.length<d;){c=w.colors.length==a?f.color.make(100,100,100):f.color.parse(w.colors[a]);
c.scale("rgb",1+(b%2==1?-1:1)*Math.ceil(b/2)*0.2);e.push(c);++a;if(a>=w.colors.length){a=0;++b}}for(a=d=0;a<O.length;++a){b=O[a];if(b.color==null){b.color=e[d].toString();++d}else if(typeof b.color=="number")b.color=e[b.color].toString();if(b.lines.show==null){var g;c=true;for(g in b)if(b[g].show){c=false;break}if(c)b.lines.show=true}b.xaxis=h(b,"xaxis");b.yaxis=h(b,"yaxis")}}function M(){function a(B,K,fa){if(K<B.datamin)B.datamin=K;if(fa>B.datamax)B.datamax=fa}var d=Number.POSITIVE_INFINITY,e=Number.NEGATIVE_INFINITY,
b,c,g,l,j,k,n,o,m,E,y;for(o in D){D[o].datamin=d;D[o].datamax=e;D[o].used=false}for(b=0;b<O.length;++b){j=O[b];j.datapoints={points:[]};H(ca.processRawData,[j,j.data,j.datapoints])}for(b=0;b<O.length;++b){j=O[b];var x=j.data,t=j.datapoints.format;if(!t){t=[];t.push({x:true,number:true,required:true});t.push({y:true,number:true,required:true});j.bars.show&&t.push({y:true,number:true,required:false,defaultValue:0});j.datapoints.format=t}if(j.datapoints.pointsize==null){if(j.datapoints.pointsize==null)j.datapoints.pointsize=
t.length;n=j.datapoints.pointsize;k=j.datapoints.points;insertSteps=j.lines.show&&j.lines.steps;j.xaxis.used=j.yaxis.used=true;for(c=g=0;c<x.length;++c,g+=n){y=x[c];var v=y==null;if(!v)for(l=0;l<n;++l){m=y[l];if(E=t[l]){if(E.number&&m!=null){m=+m;if(isNaN(m))m=null}if(m==null){if(E.required)v=true;if(E.defaultValue!=null)m=E.defaultValue}}k[g+l]=m}if(v)for(l=0;l<n;++l){m=k[g+l];if(m!=null){E=t[l];E.x&&a(j.xaxis,m,m);E.y&&a(j.yaxis,m,m)}k[g+l]=null}else if(insertSteps&&g>0&&k[g-n]!=null&&k[g-n]!=k[g]&&
k[g-n+1]!=k[g+1]){for(l=0;l<n;++l)k[g+n+l]=k[g+l];k[g+1]=k[g-n+1];g+=n}}}}for(b=0;b<O.length;++b){j=O[b];H(ca.processDatapoints,[j,j.datapoints])}for(b=0;b<O.length;++b){j=O[b];k=j.datapoints.points;n=j.datapoints.pointsize;y=g=d;v=x=e;for(c=0;c<k.length;c+=n)if(k[c]!=null)for(l=0;l<n;++l){m=k[c+l];if(E=t[l]){if(E.x){if(m<g)g=m;if(m>x)x=m}if(E.y){if(m<y)y=m;if(m>v)v=m}}}if(j.bars.show){c=j.bars.align=="left"?0:-j.bars.barWidth/2;if(j.bars.horizontal){y+=c;v+=c+j.bars.barWidth}else{g+=c;x+=c+j.bars.barWidth}}a(j.xaxis,
g,x);a(j.yaxis,y,v)}for(o in D){if(D[o].datamin==d)D[o].datamin=null;if(D[o].datamax==e)D[o].datamax=null}}function R(){function a(d,e){var b=document.createElement("canvas");b.width=d;b.height=e;if(f.browser.msie)b=window.G_vmlCanvasManager.initElement(b);return b}Z=s.width();da=s.height();s.html("");s.css("position")=="static"&&s.css("position","relative");if(Z<=0||da<=0)throw"Invalid dimensions for plot, width = "+Z+", height = "+da;f.browser.msie&&window.G_vmlCanvasManager.init_(document);pa=
f(a(Z,da)).appendTo(s).get(0);q=pa.getContext("2d");sa=f(a(Z,da)).css({position:"absolute",left:0,top:0}).appendTo(s).get(0);X=sa.getContext("2d");X.stroke()}function W(){ia=f([sa,pa]);w.grid.hoverable&&ia.mousemove(ja);w.grid.clickable&&ia.click(Aa);H(ca.bindEvents,[ia])}function T(){function a(c,g){function l(m){return m}var j,k,n=g.transform||l,o=g.inverseTransform;if(c==D.xaxis||c==D.x2axis){j=c.scale=aa/(n(c.max)-n(c.min));k=n(c.min);c.p2c=n==l?function(m){return(m-k)*j}:function(m){return(n(m)-
k)*j};c.c2p=o?function(m){return o(k+m/j)}:function(m){return k+m/j}}else{j=c.scale=ba/(n(c.max)-n(c.min));k=n(c.max);c.p2c=n==l?function(m){return(k-m)*j}:function(m){return(k-n(m))*j};c.c2p=o?function(m){return o(k-m/j)}:function(m){return k-m/j}}}function d(c,g){var l=[],j;c.labelWidth=g.labelWidth;c.labelHeight=g.labelHeight;if(c==D.xaxis||c==D.x2axis){if(c.labelWidth==null)c.labelWidth=Z/(c.ticks.length>0?c.ticks.length:1);if(c.labelHeight==null){l=[];for(g=0;g<c.ticks.length;++g)(j=c.ticks[g].label)&&
l.push('<div class="tickLabel" style="float:left;width:'+c.labelWidth+'px">'+j+"</div>");if(l.length>0){l=f('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+l.join("")+'<div style="clear:left"></div></div>').appendTo(s);c.labelHeight=l.height();l.remove()}}}else if(c.labelWidth==null||c.labelHeight==null){for(g=0;g<c.ticks.length;++g)(j=c.ticks[g].label)&&l.push('<div class="tickLabel">'+j+"</div>");if(l.length>0){l=f('<div style="position:absolute;top:-10000px;font-size:smaller">'+
l.join("")+"</div>").appendTo(s);if(c.labelWidth==null)c.labelWidth=l.width();if(c.labelHeight==null)c.labelHeight=l.find("div").height();l.remove()}}if(c.labelWidth==null)c.labelWidth=0;if(c.labelHeight==null)c.labelHeight=0}function e(){var c=w.grid.borderWidth;for(i=0;i<O.length;++i)c=Math.max(c,2*(O[i].points.radius+O[i].points.lineWidth/2));I.left=I.right=I.top=I.bottom=c;var g=w.grid.labelMargin+w.grid.borderWidth;if(D.xaxis.labelHeight>0)I.bottom=Math.max(c,D.xaxis.labelHeight+g);if(D.yaxis.labelWidth>
0)I.left=Math.max(c,D.yaxis.labelWidth+g);if(D.x2axis.labelHeight>0)I.top=Math.max(c,D.x2axis.labelHeight+g);if(D.y2axis.labelWidth>0)I.right=Math.max(c,D.y2axis.labelWidth+g);aa=Z-I.left-I.right;ba=da-I.bottom-I.top}var b;for(b in D)P(D[b],w[b]);if(w.grid.show){for(b in D){Y(D[b],w[b]);ha(D[b],w[b]);d(D[b],w[b])}e()}else{I.left=I.right=I.top=I.bottom=0;aa=Z;ba=da}for(b in D)a(D[b],w[b]);w.grid.show&&ta();S()}function P(a,d){var e=+(d.min!=null?d.min:a.datamin),b=+(d.max!=null?d.max:a.datamax),c=
b-e;if(c==0){c=b==0?1:0.01;if(d.min==null)e-=c;if(d.max==null||d.min!=null)b+=c}else{var g=d.autoscaleMargin;if(g!=null){if(d.min==null){e-=c*g;if(e<0&&a.datamin!=null&&a.datamin>=0)e=0}if(d.max==null){b+=c*g;if(b>0&&a.datamax!=null&&a.datamax<=0)b=0}}}a.min=e;a.max=b}function Y(a,d){var e;e=typeof d.ticks=="number"&&d.ticks>0?d.ticks:a==D.xaxis||a==D.x2axis?0.3*Math.sqrt(Z):0.3*Math.sqrt(da);var b=(a.max-a.min)/e,c,g;if(d.mode=="time"){var l={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,
year:525949.2*60*1E3};g=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[0.25,"month"],[0.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]];e=0;if(d.minTickSize!=null)e=typeof d.tickSize=="number"?d.tickSize:d.minTickSize[0]*l[d.minTickSize[1]];for(c=0;c<g.length-1;++c)if(b<(g[c][0]*l[g[c][1]]+g[c+1][0]*l[g[c+
1][1]])/2&&g[c][0]*l[g[c][1]]>=e)break;e=g[c][0];c=g[c][1];if(c=="year"){g=Math.pow(10,Math.floor(Math.log(b/l.year)/Math.LN10));b=b/l.year/g;e=b<1.5?1:b<3?2:b<7.5?5:10;e*=g}if(d.tickSize){e=d.tickSize[0];c=d.tickSize[1]}b=function(n){var o=[],m=n.tickSize[0],E=n.tickSize[1],y=new Date(n.min),x=m*l[E];E=="second"&&y.setUTCSeconds(p(y.getUTCSeconds(),m));E=="minute"&&y.setUTCMinutes(p(y.getUTCMinutes(),m));E=="hour"&&y.setUTCHours(p(y.getUTCHours(),m));E=="month"&&y.setUTCMonth(p(y.getUTCMonth(),m));
E=="year"&&y.setUTCFullYear(p(y.getUTCFullYear(),m));y.setUTCMilliseconds(0);x>=l.minute&&y.setUTCSeconds(0);x>=l.hour&&y.setUTCMinutes(0);x>=l.day&&y.setUTCHours(0);x>=l.day*4&&y.setUTCDate(1);x>=l.year&&y.setUTCMonth(0);var t=0,v=Number.NaN,B;do{B=v;v=y.getTime();o.push({v:v,label:n.tickFormatter(v,n)});if(E=="month")if(m<1){y.setUTCDate(1);var K=y.getTime();y.setUTCMonth(y.getUTCMonth()+1);var fa=y.getTime();y.setTime(v+t*l.hour+(fa-K)*m);t=y.getUTCHours();y.setUTCHours(0)}else y.setUTCMonth(y.getUTCMonth()+
m);else E=="year"?y.setUTCFullYear(y.getUTCFullYear()+m):y.setTime(v+x)}while(v<n.max&&v!=B);return o};g=function(n,o){n=new Date(n);if(d.timeformat!=null)return f.plot.formatDate(n,d.timeformat,d.monthNames);var m=o.tickSize[0]*l[o.tickSize[1]];o=o.max-o.min;var E=d.twelveHourClock?" %p":"";fmt=m<l.minute?"%h:%M:%S"+E:m<l.day?o<2*l.day?"%h:%M"+E:"%b %d %h:%M"+E:m<l.month?"%b %d":m<l.year?o<l.year?"%b":"%b %y":"%y";return f.plot.formatDate(n,fmt,d.monthNames)}}else{var j=d.tickDecimals,k=-Math.floor(Math.log(b)/
Math.LN10);if(j!=null&&k>j)k=j;g=Math.pow(10,-k);b=b/g;if(b<1.5)e=1;else if(b<3){e=2;if(b>2.25&&(j==null||k+1<=j)){e=2.5;++k}}else e=b<7.5?5:10;e*=g;if(d.minTickSize!=null&&e<d.minTickSize)e=d.minTickSize;if(d.tickSize!=null)e=d.tickSize;a.tickDecimals=Math.max(0,j!=null?j:k);b=function(n){var o=[],m=p(n.min,n.tickSize),E=0,y=Number.NaN,x;do{x=y;y=m+E*n.tickSize;o.push({v:y,label:n.tickFormatter(y,n)});++E}while(y<n.max&&y!=x);return o};g=function(n,o){return n.toFixed(o.tickDecimals)}}a.tickSize=
c?[e,c]:e;a.tickGenerator=b;a.tickFormatter=f.isFunction(d.tickFormatter)?function(n,o){return""+d.tickFormatter(n,o)}:g}function ha(a,d){a.ticks=[];if(a.used){if(d.ticks==null)a.ticks=a.tickGenerator(a);else if(typeof d.ticks=="number"){if(d.ticks>0)a.ticks=a.tickGenerator(a)}else if(d.ticks){var e=d.ticks;if(f.isFunction(e))e=e({min:a.min,max:a.max});var b,c;for(b=0;b<e.length;++b){var g=null,l=e[b];if(typeof l=="object"){c=l[0];if(l.length>1)g=l[1]}else c=l;if(g==null)g=a.tickFormatter(c,a);a.ticks[b]=
{v:c,label:g}}}if(d.autoscaleMargin!=null&&a.ticks.length>0){if(d.min==null)a.min=Math.min(a.min,a.ticks[0].v);if(d.max==null&&a.ticks.length>1)a.max=Math.max(a.max,a.ticks[a.ticks.length-1].v)}}}function ga(){q.clearRect(0,0,Z,da);var a=w.grid;a.show&&!a.aboveData&&oa();for(var d=0;d<O.length;++d)qa(O[d]);H(ca.draw,[q]);a.show&&a.aboveData&&oa()}function ka(a,d){var e=d+"axis",b=d+"2axis",c,g;if(a[e]){c=D[e];g=a[e].from;a=a[e].to}else if(a[b]){c=D[b];g=a[b].from;a=a[b].to}else{c=D[e];g=a[d+"1"];
a=a[d+"2"]}if(g!=null&&a!=null&&g>a)return{from:a,to:g,axis:c};return{from:g,to:a,axis:c}}function oa(){var a;q.save();q.translate(I.left,I.top);if(w.grid.backgroundColor){q.fillStyle=va(w.grid.backgroundColor,ba,0,"rgba(255, 255, 255, 0)");q.fillRect(0,0,aa,ba)}var d=w.grid.markings;if(d){if(f.isFunction(d))d=d({xmin:D.xaxis.min,xmax:D.xaxis.max,ymin:D.yaxis.min,ymax:D.yaxis.max,xaxis:D.xaxis,yaxis:D.yaxis,x2axis:D.x2axis,y2axis:D.y2axis});for(a=0;a<d.length;++a){var e=d[a],b=ka(e,"x"),c=ka(e,"y");
if(b.from==null)b.from=b.axis.min;if(b.to==null)b.to=b.axis.max;if(c.from==null)c.from=c.axis.min;if(c.to==null)c.to=c.axis.max;if(!(b.to<b.axis.min||b.from>b.axis.max||c.to<c.axis.min||c.from>c.axis.max)){b.from=Math.max(b.from,b.axis.min);b.to=Math.min(b.to,b.axis.max);c.from=Math.max(c.from,c.axis.min);c.to=Math.min(c.to,c.axis.max);if(!(b.from==b.to&&c.from==c.to)){b.from=b.axis.p2c(b.from);b.to=b.axis.p2c(b.to);c.from=c.axis.p2c(c.from);c.to=c.axis.p2c(c.to);if(b.from==b.to||c.from==c.to){q.beginPath();
q.strokeStyle=e.color||w.grid.markingsColor;q.lineWidth=e.lineWidth||w.grid.markingsLineWidth;q.moveTo(b.from,c.from);q.lineTo(b.to,c.to);q.stroke()}else{q.fillStyle=e.color||w.grid.markingsColor;q.fillRect(b.from,c.to,b.to-b.from,c.from-c.to)}}}}}q.lineWidth=1;q.strokeStyle=w.grid.tickColor;q.beginPath();e=D.xaxis;for(a=0;a<e.ticks.length;++a){d=e.ticks[a].v;if(!(d<=e.min||d>=D.xaxis.max)){q.moveTo(Math.floor(e.p2c(d))+q.lineWidth/2,0);q.lineTo(Math.floor(e.p2c(d))+q.lineWidth/2,ba)}}e=D.yaxis;for(a=
0;a<e.ticks.length;++a){d=e.ticks[a].v;if(!(d<=e.min||d>=e.max)){q.moveTo(0,Math.floor(e.p2c(d))+q.lineWidth/2);q.lineTo(aa,Math.floor(e.p2c(d))+q.lineWidth/2)}}e=D.x2axis;for(a=0;a<e.ticks.length;++a){d=e.ticks[a].v;if(!(d<=e.min||d>=e.max)){q.moveTo(Math.floor(e.p2c(d))+q.lineWidth/2,-5);q.lineTo(Math.floor(e.p2c(d))+q.lineWidth/2,5)}}e=D.y2axis;for(a=0;a<e.ticks.length;++a){d=e.ticks[a].v;if(!(d<=e.min||d>=e.max)){q.moveTo(aa-5,Math.floor(e.p2c(d))+q.lineWidth/2);q.lineTo(aa+5,Math.floor(e.p2c(d))+
q.lineWidth/2)}}q.stroke();if(w.grid.borderWidth){a=w.grid.borderWidth;q.lineWidth=a;q.strokeStyle=w.grid.borderColor;q.strokeRect(-a/2,-a/2,aa+a,ba+a)}q.restore()}function ta(){function a(b,c){for(var g=0;g<b.ticks.length;++g){var l=b.ticks[g];!l.label||l.v<b.min||l.v>b.max||d.push(c(l,b))}}s.find(".tickLabels").remove();var d=['<div class="tickLabels" style="font-size:smaller;color:'+w.grid.color+'">'],e=w.grid.labelMargin+w.grid.borderWidth;a(D.xaxis,function(b,c){return'<div style="position:absolute;top:'+
(I.top+ba+e)+"px;left:"+Math.round(I.left+c.p2c(b.v)-c.labelWidth/2)+"px;width:"+c.labelWidth+'px;text-align:center" class="tickLabel">'+b.label+"</div>"});a(D.yaxis,function(b,c){return'<div style="position:absolute;top:'+Math.round(I.top+c.p2c(b.v)-c.labelHeight/2)+"px;right:"+(I.right+aa+e)+"px;width:"+c.labelWidth+'px;text-align:right" class="tickLabel">'+b.label+"</div>"});a(D.x2axis,function(b,c){return'<div style="position:absolute;bottom:'+(I.bottom+ba+e)+"px;left:"+Math.round(I.left+c.p2c(b.v)-
c.labelWidth/2)+"px;width:"+c.labelWidth+'px;text-align:center" class="tickLabel">'+b.label+"</div>"});a(D.y2axis,function(b,c){return'<div style="position:absolute;top:'+Math.round(I.top+c.p2c(b.v)-c.labelHeight/2)+"px;left:"+(I.left+aa+e)+"px;width:"+c.labelWidth+'px;text-align:left" class="tickLabel">'+b.label+"</div>"});d.push("</div>");s.append(d.join(""))}function qa(a){a.lines.show&&la(a);a.bars.show&&N(a);a.points.show&&ma(a)}function la(a){function d(l,j,k,n,o){var m=l.points;l=l.pointsize;
var E=null,y=null;q.beginPath();for(var x=l;x<m.length;x+=l){var t=m[x-l],v=m[x-l+1],B=m[x],K=m[x+1];if(!(t==null||B==null)){if(v<=K&&v<o.min){if(K<o.min)continue;t=(o.min-v)/(K-v)*(B-t)+t;v=o.min}else if(K<=v&&K<o.min){if(v<o.min)continue;B=(o.min-v)/(K-v)*(B-t)+t;K=o.min}if(v>=K&&v>o.max){if(K>o.max)continue;t=(o.max-v)/(K-v)*(B-t)+t;v=o.max}else if(K>=v&&K>o.max){if(v>o.max)continue;B=(o.max-v)/(K-v)*(B-t)+t;K=o.max}if(t<=B&&t<n.min){if(B<n.min)continue;v=(n.min-t)/(B-t)*(K-v)+v;t=n.min}else if(B<=
t&&B<n.min){if(t<n.min)continue;K=(n.min-t)/(B-t)*(K-v)+v;B=n.min}if(t>=B&&t>n.max){if(B>n.max)continue;v=(n.max-t)/(B-t)*(K-v)+v;t=n.max}else if(B>=t&&B>n.max){if(t>n.max)continue;K=(n.max-t)/(B-t)*(K-v)+v;B=n.max}if(t!=E||v!=y)q.moveTo(n.p2c(t)+j,o.p2c(v)+k);E=B;y=K;q.lineTo(n.p2c(B)+j,o.p2c(K)+k)}}q.stroke()}function e(l,j,k){var n=l.points;l=l.pointsize;var o=Math.min(Math.max(0,k.min),k.max),m;m=0;for(var E=false,y=l;y<n.length;y+=l){var x=n[y-l],t=n[y-l+1],v=n[y],B=n[y+1];if(E&&x!=null&&v==
null){q.lineTo(j.p2c(m),k.p2c(o));q.fill();E=false}else if(!(x==null||v==null)){if(x<=v&&x<j.min){if(v<j.min)continue;t=(j.min-x)/(v-x)*(B-t)+t;x=j.min}else if(v<=x&&v<j.min){if(x<j.min)continue;B=(j.min-x)/(v-x)*(B-t)+t;v=j.min}if(x>=v&&x>j.max){if(v>j.max)continue;t=(j.max-x)/(v-x)*(B-t)+t;x=j.max}else if(v>=x&&v>j.max){if(x>j.max)continue;B=(j.max-x)/(v-x)*(B-t)+t;v=j.max}if(!E){q.beginPath();q.moveTo(j.p2c(x),k.p2c(o));E=true}if(t>=k.max&&B>=k.max){q.lineTo(j.p2c(x),k.p2c(k.max));q.lineTo(j.p2c(v),
k.p2c(k.max));m=v}else if(t<=k.min&&B<=k.min){q.lineTo(j.p2c(x),k.p2c(k.min));q.lineTo(j.p2c(v),k.p2c(k.min));m=v}else{var K=x,fa=v;if(t<=B&&t<k.min&&B>=k.min){x=(k.min-t)/(B-t)*(v-x)+x;t=k.min}else if(B<=t&&B<k.min&&t>=k.min){v=(k.min-t)/(B-t)*(v-x)+x;B=k.min}if(t>=B&&t>k.max&&B<=k.max){x=(k.max-t)/(B-t)*(v-x)+x;t=k.max}else if(B>=t&&B>k.max&&t<=k.max){v=(k.max-t)/(B-t)*(v-x)+x;B=k.max}if(x!=K){m=t<=k.min?k.min:k.max;q.lineTo(j.p2c(K),k.p2c(m));q.lineTo(j.p2c(x),k.p2c(m))}q.lineTo(j.p2c(x),k.p2c(t));
q.lineTo(j.p2c(v),k.p2c(B));if(v!=fa){m=B<=k.min?k.min:k.max;q.lineTo(j.p2c(v),k.p2c(m));q.lineTo(j.p2c(fa),k.p2c(m))}m=Math.max(v,fa)}}}if(E){q.lineTo(j.p2c(m),k.p2c(o));q.fill()}}q.save();q.translate(I.left,I.top);q.lineJoin="round";var b=a.lines.lineWidth,c=a.shadowSize;if(b>0&&c>0){q.lineWidth=c;q.strokeStyle="rgba(0,0,0,0.1)";var g=Math.PI/18;d(a.datapoints,Math.sin(g)*(b/2+c/2),Math.cos(g)*(b/2+c/2),a.xaxis,a.yaxis);q.lineWidth=c/2;d(a.datapoints,Math.sin(g)*(b/2+c/4),Math.cos(g)*(b/2+c/4),
a.xaxis,a.yaxis)}q.lineWidth=b;q.strokeStyle=a.color;if(c=Q(a.lines,a.color,0,ba)){q.fillStyle=c;e(a.datapoints,a.xaxis,a.yaxis)}b>0&&d(a.datapoints,0,0,a.xaxis,a.yaxis);q.restore()}function ma(a){function d(g,l,j,k,n,o,m){var E=g.points;g=g.pointsize;for(var y=0;y<E.length;y+=g){var x=E[y],t=E[y+1];if(!(x==null||x<o.min||x>o.max||t<m.min||t>m.max)){q.beginPath();q.arc(o.p2c(x),m.p2c(t)+k,l,0,n,false);if(j){q.fillStyle=j;q.fill()}q.stroke()}}}q.save();q.translate(I.left,I.top);var e=a.lines.lineWidth,
b=a.shadowSize,c=a.points.radius;if(e>0&&b>0){b=b/2;q.lineWidth=b;q.strokeStyle="rgba(0,0,0,0.1)";d(a.datapoints,c,null,b+b/2,Math.PI,a.xaxis,a.yaxis);q.strokeStyle="rgba(0,0,0,0.2)";d(a.datapoints,c,null,b/2,Math.PI,a.xaxis,a.yaxis)}q.lineWidth=e;q.strokeStyle=a.color;d(a.datapoints,c,Q(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis);q.restore()}function na(a,d,e,b,c,g,l,j,k,n,o){var m,E,y,x;if(o){x=E=y=true;m=false;o=e;a=a;e=d+b;c=d+c;if(a<o){d=a;a=o;o=d;m=true;E=false}}else{m=E=y=true;x=false;o=
a+b;a=a+c;c=e;e=d;if(e<c){d=e;e=c;c=d;x=true;y=false}}if(!(a<j.min||o>j.max||e<k.min||c>k.max)){if(o<j.min){o=j.min;m=false}if(a>j.max){a=j.max;E=false}if(c<k.min){c=k.min;x=false}if(e>k.max){e=k.max;y=false}o=j.p2c(o);c=k.p2c(c);a=j.p2c(a);e=k.p2c(e);if(l){n.beginPath();n.moveTo(o,c);n.lineTo(o,e);n.lineTo(a,e);n.lineTo(a,c);n.fillStyle=l(c,e);n.fill()}if(m||E||y||x){n.beginPath();n.moveTo(o,c+g);m?n.lineTo(o,e+g):n.moveTo(o,e+g);y?n.lineTo(a,e+g):n.moveTo(a,e+g);E?n.lineTo(a,c+g):n.moveTo(a,c+g);
x?n.lineTo(o,c+g):n.moveTo(o,c+g);n.stroke()}}}function N(a){function d(b,c,g,l,j,k,n){var o=b.points;b=b.pointsize;for(var m=0;m<o.length;m+=b)o[m]!=null&&na(o[m],o[m+1],o[m+2],c,g,l,j,k,n,q,a.bars.horizontal)}q.save();q.translate(I.left,I.top);q.lineWidth=a.bars.lineWidth;q.strokeStyle=a.color;var e=a.bars.align=="left"?0:-a.bars.barWidth/2;d(a.datapoints,e,e+a.bars.barWidth,0,a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null,a.xaxis,a.yaxis);q.restore()}function Q(a,d,e,b){var c=a.fill;
if(!c)return null;if(a.fillColor)return va(a.fillColor,e,b,d);a=f.color.parse(d);a.a=typeof c=="number"?c:0.4;a.normalize();return a.toString()}function S(){s.find(".legend").remove();if(w.legend.show){var a=[],d=false,e=w.legend.labelFormatter,b,c;for(i=0;i<O.length;++i){b=O[i];if(c=b.label){if(i%w.legend.noColumns==0){d&&a.push("</tr>");a.push("<tr>");d=true}if(e)c=e(c,b);a.push('<td class="legendColorBox"><div style="border:1px solid '+w.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+
b.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c+"</td>")}}d&&a.push("</tr>");if(a.length!=0){d='<table style="font-size:smaller;color:'+w.grid.color+'">'+a.join("")+"</table>";if(w.legend.container!=null)f(w.legend.container).html(d);else{a="";e=w.legend.position;b=w.legend.margin;if(b[0]==null)b=[b,b];if(e.charAt(0)=="n")a+="top:"+(b[1]+I.top)+"px;";else if(e.charAt(0)=="s")a+="bottom:"+(b[1]+I.bottom)+"px;";if(e.charAt(1)=="e")a+="right:"+(b[0]+I.right)+"px;";else if(e.charAt(1)==
"w")a+="left:"+(b[0]+I.left)+"px;";d=f('<div class="legend">'+d.replace('style="','style="position:absolute;'+a+";")+"</div>").appendTo(s);if(w.legend.backgroundOpacity!=0){e=w.legend.backgroundColor;if(e==null){e=(e=w.grid.backgroundColor)&&typeof e=="string"?f.color.parse(e):f.color.extract(d,"background-color");e.a=1;e=e.toString()}b=d.children();f('<div style="position:absolute;width:'+b.width()+"px;height:"+b.height()+"px;"+a+"background-color:"+e+';"> </div>').prependTo(d).css("opacity",w.legend.backgroundOpacity)}}}}}
function V(a,d,e){var b=w.grid.mouseActiveRadius,c=b*b+1,g=null,l,j;for(l=0;l<O.length;++l)if(e(O[l])){var k=O[l],n=k.xaxis,o=k.yaxis,m=k.datapoints.points,E=k.datapoints.pointsize,y=n.c2p(a),x=o.c2p(d),t=b/n.scale,v=b/o.scale;if(k.lines.show||k.points.show)for(j=0;j<m.length;j+=E){var B=m[j],K=m[j+1];if(B!=null)if(!(B-y>t||B-y<-t||K-x>v||K-x<-v)){B=Math.abs(n.p2c(B)-a);K=Math.abs(o.p2c(K)-d);K=B*B+K*K;if(K<=c){c=K;g=[l,j/E]}}}if(k.bars.show&&!g){n=k.bars.align=="left"?0:-k.bars.barWidth/2;k=n+k.bars.barWidth;
for(j=0;j<m.length;j+=E){B=m[j];K=m[j+1];o=m[j+2];if(B!=null)if(O[l].bars.horizontal?y<=Math.max(o,B)&&y>=Math.min(o,B)&&x>=K+n&&x<=K+k:y>=B+n&&y<=B+k&&x>=Math.min(o,K)&&x<=Math.max(o,K))g=[l,j/E]}}}if(g){l=g[0];j=g[1];E=O[l].datapoints.pointsize;return{datapoint:O[l].datapoints.points.slice(j*E,(j+1)*E),dataIndex:j,series:O[l],seriesIndex:l}}return null}function ja(a){w.grid.hoverable&&wa("plothover",a,function(d){return d.hoverable!=false})}function Aa(a){wa("plotclick",a,function(d){return d.clickable!=
false})}function wa(a,d,e){var b=ia.offset(),c={pageX:d.pageX,pageY:d.pageY},g=d.pageX-b.left-I.left;d=d.pageY-b.top-I.top;if(D.xaxis.used)c.x=D.xaxis.c2p(g);if(D.yaxis.used)c.y=D.yaxis.c2p(d);if(D.x2axis.used)c.x2=D.x2axis.c2p(g);if(D.y2axis.used)c.y2=D.y2axis.c2p(d);if(e=V(g,d,e)){e.pageX=parseInt(e.series.xaxis.p2c(e.datapoint[0])+b.left+I.left);e.pageY=parseInt(e.series.yaxis.p2c(e.datapoint[1])+b.top+I.top)}if(w.grid.autoHighlight){for(b=0;b<ea.length;++b){g=ea[b];g.auto==a&&!(e&&g.series==e.series&&
g.point==e.datapoint)&&xa(g.series,g.point)}e&&ya(e.series,e.datapoint,a)}s.trigger(a,[c,e])}function ra(){ua||(ua=setTimeout(Ba,30))}function Ba(){ua=null;X.save();X.clearRect(0,0,Z,da);X.translate(I.left,I.top);var a,d;for(a=0;a<ea.length;++a){d=ea[a];d.series.bars.show?Ca(d.series,d.point):Da(d.series,d.point)}X.restore();H(ca.drawOverlay,[X])}function ya(a,d,e){if(typeof a=="number")a=O[a];if(typeof d=="number")d=a.data[d];var b=za(a,d);if(b==-1){ea.push({series:a,point:d,auto:e});ra()}else if(!e)ea[b].auto=
false}function xa(a,d){if(a==null&&d==null){ea=[];ra()}if(typeof a=="number")a=O[a];if(typeof d=="number")d=a.data[d];a=za(a,d);if(a!=-1){ea.splice(a,1);ra()}}function za(a,d){for(var e=0;e<ea.length;++e){var b=ea[e];if(b.series==a&&b.point[0]==d[0]&&b.point[1]==d[1])return e}return-1}function Da(a,d){var e=d[0];d=d[1];var b=a.xaxis,c=a.yaxis;if(!(e<b.min||e>b.max||d<c.min||d>c.max)){var g=a.points.radius+a.points.lineWidth/2;X.lineWidth=g;X.strokeStyle=f.color.parse(a.color).scale("a",0.5).toString();
a=1.5*g;X.beginPath();X.arc(b.p2c(e),c.p2c(d),a,0,2*Math.PI,false);X.stroke()}}function Ca(a,d){X.lineWidth=a.bars.lineWidth;X.strokeStyle=f.color.parse(a.color).scale("a",0.5).toString();var e=f.color.parse(a.color).scale("a",0.5).toString(),b=a.bars.align=="left"?0:-a.bars.barWidth/2;na(d[0],d[1],d[2]||0,b,b+a.bars.barWidth,0,function(){return e},a.xaxis,a.yaxis,X,a.bars.horizontal)}function va(a,d,e,b){if(typeof a=="string")return a;else{d=q.createLinearGradient(0,e,0,d);e=0;for(var c=a.colors.length;e<
c;++e){var g=a.colors[e];if(typeof g!="string"){g=f.color.parse(b).scale("rgb",g.brightness);g.a*=g.opacity;g=g.toString()}d.addColorStop(e/(c-1),g)}return d}}var O=[],w={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{mode:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,
labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:false},yaxis:{autoscaleMargin:0.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:0.02},series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false},shadowSize:3},grid:{show:true,aboveData:false,
color:"#545454",backgroundColor:null,tickColor:"rgba(0,0,0,0.15)",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},hooks:{}},pa=null,sa=null,ia=null,q=null,X=null,D={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},I={left:0,right:0,top:0,bottom:0},Z=0,da=0,aa=0,ba=0,ca={processOptions:[],processRawData:[],processDatapoints:[],draw:[],bindEvents:[],drawOverlay:[]},U=this;U.setData=
C;U.setupGrid=T;U.draw=ga;U.getPlaceholder=function(){return s};U.getCanvas=function(){return pa};U.getPlotOffset=function(){return I};U.width=function(){return aa};U.height=function(){return ba};U.offset=function(){var a=ia.offset();a.left+=I.left;a.top+=I.top;return a};U.getData=function(){return O};U.getAxes=function(){return D};U.getOptions=function(){return w};U.highlight=ya;U.unhighlight=xa;U.triggerRedrawOverlay=ra;U.pointOffset=function(a){return{left:parseInt(h(a,"xaxis").p2c(+a.x)+I.left),
top:parseInt(h(a,"yaxis").p2c(+a.y)+I.top)}};U.hooks=ca;A(U);u(r);R();C(z);T();ga();W();var ea=[],ua=null}function p(s,z){return z*Math.floor(s/z)}f.plot=function(s,z,r){return new G(f(s),z,r,f.plot.plugins)};f.plot.plugins=[];f.plot.formatDate=function(s,z,r){var J=function(F){F=""+F;return F.length==1?"0"+F:F},H=[],A=false,u=s.getUTCHours(),C=u<12;if(r==null)r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(z.search(/%p|%P/)!=-1)if(u>12)u-=12;else if(u==0)u=12;for(var L=
0;L<z.length;++L){var h=z.charAt(L);if(A){switch(h){case "h":h=""+u;break;case "H":h=J(u);break;case "M":h=J(s.getUTCMinutes());break;case "S":h=J(s.getUTCSeconds());break;case "d":h=""+s.getUTCDate();break;case "m":h=""+(s.getUTCMonth()+1);break;case "y":h=""+s.getUTCFullYear();break;case "b":h=""+r[s.getUTCMonth()];break;case "p":h=C?"am":"pm";break;case "P":h=C?"AM":"PM";break}H.push(h);A=false}else if(h=="%")A=true;else H.push(h)}return H.join("")}})(jQuery);
(function(f){function G(u){var C=this,L,h=u.data||{};if(h.elem){C=u.dragTarget=h.elem;u.dragProxy=A.proxy||C;u.cursorOffsetX=h.pageX-h.left;u.cursorOffsetY=h.pageY-h.top;u.offsetX=u.pageX-u.cursorOffsetX;u.offsetY=u.pageY-u.cursorOffsetY}else if(A.dragging||h.which>0&&u.which!=h.which||f(u.target).is(h.not))return;switch(u.type){case "mousedown":f.extend(h,f(C).offset(),{elem:C,target:u.target,pageX:u.pageX,pageY:u.pageY});J.add(document,"mousemove mouseup",G,h);r(C,false);A.dragging=null;return false;
case !A.dragging&&"mousemove":if(s(u.pageX-h.pageX)+s(u.pageY-h.pageY)<h.distance)break;u.target=h.target;L=p(u,"dragstart",C);if(L!==false){A.dragging=C;A.proxy=u.dragProxy=f(L||C)[0]}case "mousemove":if(A.dragging){L=p(u,"drag",C);if(H.drop){H.drop.allowed=L!==false;H.drop.handler(u)}if(L!==false)break;u.type="mouseup"}case "mouseup":J.remove(document,"mousemove mouseup",G);if(A.dragging){H.drop&&H.drop.handler(u);p(u,"dragend",C)}r(C,true);A.dragging=A.proxy=h.elem=false;break}return true}function p(u,
C,L){u.type=C;C=f.event.handle.call(L,u);return C===false?false:C||u.result}function s(u){return Math.pow(u,2)}function z(){return A.dragging===false}function r(u,C){if(u){u.unselectable=C?"off":"on";u.onselectstart=function(){return C};if(u.style)u.style.MozUserSelect=C?"":"none"}}f.fn.drag=function(u,C,L){C&&this.bind("dragstart",u);L&&this.bind("dragend",L);return!u?this.trigger("drag"):this.bind("drag",C?C:u)};var J=f.event,H=J.special,A=H.drag={not:":input",distance:0,which:1,dragging:false,
setup:function(u){u=f.extend({distance:A.distance,which:A.which,not:A.not},u||{});u.distance=s(u.distance);J.add(this,"mousedown",G,u);this.attachEvent&&this.attachEvent("ondragstart",z)},teardown:function(){J.remove(this,"mousedown",G);if(this===A.dragging)A.dragging=A.proxy=false;r(this,true);this.detachEvent&&this.detachEvent("ondragstart",z)}};H.dragstart=H.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(f){function G(s){var z=[].slice.call(arguments,1),r=0;s=f.event.fix(s||window.event);s.type="mousewheel";if(s.wheelDelta)r=s.wheelDelta/120;if(s.detail)r=-s.detail/3;z.unshift(s,r);return f.event.handle.apply(this,z)}var p=["DOMMouseScroll","mousewheel"];f.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var s=p.length;s;)this.addEventListener(p[--s],G,false);else this.onmousewheel=G},teardown:function(){if(this.removeEventListener)for(var s=p.length;s;)this.removeEventListener(p[--s],
G,false);else this.onmousewheel=null}};f.fn.extend({mousewheel:function(s){return s?this.bind("mousewheel",s):this.trigger("mousewheel")},unmousewheel:function(s){return this.unbind("mousewheel",s)}})})(jQuery);
(function(f){function G(p){function s(z,r){var J=z.getOptions();if(J.zoom.interactive){function H(C,L){var h=z.offset();h.left=C.pageX-h.left;h.top=C.pageY-h.top;L?z.zoomOut({center:h}):z.zoom({center:h})}r[J.zoom.trigger](H);r.mousewheel(function(C,L){H(C,L<0);return false})}if(J.pan.interactive){var A=0,u=0;r.bind("dragstart",{distance:10},function(C){if(C.which!=1)return false;eventHolderCursor=r.css("cursor");r.css("cursor","move");A=C.pageX;u=C.pageY});r.bind("drag",function(){});r.bind("dragend",
function(C){r.css("cursor","default");z.pan({left:A-C.pageX,top:u-C.pageY})})}}p.zoomOut=function(z){z||(z={});if(!z.amount)z.amount=p.getOptions().zoom.amount;z.amount=1/z.amount;p.zoom(z)};p.zoom=function(z){function r(R,W,T){var P=J[T];T=H[T];if(P.used){R=P.c2p(R);W=P.c2p(W);if(W<R){P=R;R=W;W=P}P=W-R;var Y=T.zoomRange;if(!(Y&&(Y[0]!=null&&P<Y[0]||Y[1]!=null&&P>Y[1]))){T.min=R;T.max=W}}}z||(z={});var J=p.getAxes(),H=p.getOptions(),A=z.center,u=z.amount?z.amount:H.zoom.amount,C=p.width(),L=p.height();
A||(A={left:C/2,top:L/2});var h=A.left/C,F=A.left-h*C/u;C=A.left+(1-h)*C/u;var M=A.top/L;h=A.top-M*L/u;A=A.top+(1-M)*L/u;r(F,C,"xaxis");r(F,C,"x2axis");r(h,A,"yaxis");r(h,A,"y2axis");p.setupGrid();p.draw();z.preventEvent||p.getPlaceholder().trigger("plotzoom",[p])};p.pan=function(z){function r(C,L){var h=A[L];L=u[L];var F;if(h.used){F=h.c2p(h.p2c(h.min)+C);h=h.c2p(h.p2c(h.max)+C);var M=L.panRange;if(M){if(M[0]!=null&&M[0]>F){C=M[0]-F;F+=C;h+=C}if(M[1]!=null&&M[1]<h){C=M[1]-h;F+=C;h+=C}}L.min=F;L.max=
h}}var J=+z.left,H=+z.top,A=p.getAxes(),u=p.getOptions();if(isNaN(J))J=0;if(isNaN(H))H=0;r(J,"xaxis");r(J,"x2axis");r(H,"yaxis");r(H,"y2axis");p.setupGrid();p.draw();z.preventEvent||p.getPlaceholder().trigger("plotpan",[p])};p.hooks.bindEvents.push(s)}f.plot.plugins.push({init:G,options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:false,trigger:"dblclick",amount:1.5},pan:{interactive:false}},name:"navigate",version:"1.1"})})(jQuery);
$(document).ready(function(){function f(){$("#activity").length==0&&$('<div id="activity"></div>').appendTo(Y);$("#activity").fadeTo(100,0.9);setTimeout(function(){$("<span>Please wait while weatherham gathers new data.</span>").hide().appendTo("#activity").fadeIn()},3500)}function G(){$("#activity").fadeTo(100,0,function(){$("#activity").empty()})}function p(){function N(S){return{data:P.plot_pairs[S],color:oa[Q++],attribute_name:S}}var Q=0;f();ha={};$(".metric_toggler input").each(function(){ha[this.id]=
N(this.id)});ha.barometer.yaxis=2;return ha}function s(N,Q,S,V){ma=false;$("#tooltip").length==0&&$('<div id="tooltip"></div>').appendTo("body");V&&$("#tooltip").css("background-color",V);$("#tooltip").stop().html(S).css({top:Q+5,left:N+5}).show().fadeTo(200,0.8)}function z(){if(!ma){ma=true;$("#tooltip").stop().fadeTo(200,0,function(){$("#tooltip").hide();ma=false})}}function r(){return(T.getAxes().xaxis.max-T.getAxes().xaxis.min)/5}function J(N){var Q=T.getAxes().xaxis.min,S=Q+r();return Q<N.x&&
N.x<S}function H(N){var Q=T.getAxes().xaxis.max;return Q-r()<N.x&&N.x<Q}function A(){$("#left_arrow").length==0&&$('<div id="left_arrow"></div>').css("opacity","0").appendTo(Y);$("#left_arrow").stop().fadeTo(400,0.35)}function u(){$("#right_arrow").length==0&&$('<div id="right_arrow"></div>').css("opacity","0").appendTo(Y);$("#right_arrow").stop().fadeTo(400,0.35)}function C(){$("#left_arrow").stop().fadeTo(250,0)}function L(){$("#right_arrow").stop().fadeTo(250,0)}function h(N,Q,S){return"<"+N+'><span class="attribute">'+
Base.I18n[Q].title+':</span> <span class="value">'+S+Base.I18n[Q].unit+"</span></"+N+">"}function F(N){$.extend(P.times,N.times);for(name in P.plot_pairs)if(N.earliest_point<P.earliest_point)P.plot_pairs[name]=N.plot_pairs[name].concat(P.plot_pairs[name]);P.earliest_point=Math.min(P.earliest_point,N.earliest_point);p()}function M(N){T=$.plot(Y,N,{xaxis:{mode:"time",min:ga,max:ka},yaxis:{min:0,max:Base.ranges.max},y2axis:{min:Base.ranges.barometer.min,max:Base.ranges.barometer.max,ticks:function(Q){var S=
[[29.9213,'<span class="baro_label">1 atm</span>']],V=Math.ceil(Q.min*5)/5;do{S.push([V,'<span class="baro_label">'+Math.round(V*5)/5+" "+Base.I18n.barometer.unit+"</span>"]);V+=0.2}while(V<Q.max);return S}},legend:{position:"nw",margin:[10,5]},grid:{borderColor:ta,borderWidth:1,backgroundColor:"rgba(0, 0, 0, 0.4)",labelMargin:10,tickColor:qa,markings:[{y2axis:{from:29.9213,to:29.9213},color:qa}],hoverable:true,clickable:true},series:{lines:{show:true}}});G()}function R(){f();M($(".metric_toggler input:checked").map(function(){return ha[this.id]}))}
function W(){p();R()}$("a[rel=facebox]").facebox();var T=null,P=null,Y=$("#weather"),ha=null,ga=null,ka=null,oa=["#b1ec10","#749D20","#f26522","#CD8050","#ffffff","#24f7f2","#EEB92E"],ta="#f26522",qa="rgba(78, 110, 141, 0.5)",la=null,ma=false,na=null;Y.bind("plothover",function(N,Q,S){if(S){if(na!=S.datapoint){na=S.datapoint;N=S.datapoint[0];var V=S.datapoint[1].toFixed(2),ja=S.series.attribute_name;Q=P.mappings[ja];V=h("h3",ja,V);ja=(new Date(N)).format('ddd, mmm d, yyyy"<br/>" h:MM TT Z');if(Q)V+=
h("h4",Q,P.times[N][Q]);V+='<p class="time">'+ja+"</p>";s(S.pageX,S.pageY,V,S.series.color)}}else{na=null;z();if(J(Q)){A();L()}else{H(Q)?u():L();C()}}});Y.bind("plotclick",function(N,Q,S){if(!S)if(la)Base.log("double click?",la);else if(J(Q)){ga=N=T.getAxes().xaxis.min-144E5;ka=T.getAxes().xaxis.max-144E5;if(N<P.earliest_point){N="/observations/range/"+ +new Date(ga-ga%432E5)+"/"+ +new Date(P.earliest_point-1E3)+".json";f();la=$.getJSON(N,function(V){F(V);R();la=null})}else R()}else if(H(Q)){N=T.getAxes().xaxis.max+
144E5;if(!(N>P.latest_point)){ga=T.getAxes().xaxis.min+144E5;ka=N;R()}}});$(".metric_toggler input").change(function(){R()}).each(function(N){$(this).parents(".metric_toggler").find("label").css("background-color",oa[N])});$(".metric_toggler.default_on input").attr("checked","checked");f();$.getJSON(Base.five_min_path,function(N){P=N;$("#last_observation").html((new Date(P.latest_point)).format("ddd, mmm d, yyyy h:MM TT Z"));W()})});